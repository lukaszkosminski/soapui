<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="34707dbb-097c-4109-a0c2-5eef3e50ff2d" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="EditContact" searchProperties="true" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="34707dbb-097c-4109-a0c2-5eef3e50ff2dfileName">EditContact</con:setting></con:settings><con:testStep type="restrequest" name="CreateContact" id="880abcd1-4ccc-4b39-8a31-e06b8c0b4ec1"><con:settings/><con:config service="WEBAPI" resourcePath="/api/contacts/addcontact" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="CreateContact" id="11c77af7-8d64-4bed-9788-03def4d2c964" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://192.168.102.192:9000</con:endpoint><con:request>{ 
	"first": "${#TestCase#randomString1}", 
	"last": "${#TestCase#randomString2}", 
	"tel": "${#TestCase#randomValue2}" 
}</con:request><con:originalUri>http://192.168.102.192/api/contacts/addcontact</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="17360604-116e-454e-82f8-76f6ce76884c" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>first</con:entry><con:entry>last</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="delay" name="Delay" id="a92db900-ab33-4722-8221-a743c27014e6" disabled="true"><con:settings/><con:config><delay/></con:config></con:testStep><con:testStep type="transfer" name="transfer contact id" id="94c0051b-c4bf-4d8c-9eeb-dec5dee86683" disabled="true"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>id</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>CreateContact</con:sourceStep><con:sourcePath>$.id</con:sourcePath><con:targetType>id</con:targetType><con:targetStep>getcontact</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>first</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>CreateContact</con:sourceStep><con:sourcePath>$.first</con:sourcePath><con:targetType>first</con:targetType><con:targetStep>getcontact</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>last</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>CreateContact</con:sourceStep><con:sourcePath>$.last</con:sourcePath><con:targetType>last</con:targetType><con:targetStep>getcontact</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="getcontact" id="8c68d967-c93c-4fd0-8007-222bb3c07853" disabled="true"><con:settings/><con:config service="WEBAPI" resourcePath="/api/contacts/{id}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getcontact" id="ffd57352-5bb8-438c-aa18-2512ee6a5da2" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://192.168.102.192:9000</con:endpoint><con:request/><con:originalUri>http://192.168.102.192/api/contacts/id</con:originalUri><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="last" value="atjxG"/>
  <con:entry key="id" value="cn=atjxG a8Wuj,ou=Address Book,dc=ldap,dc=dgt,dc=com,dc=pl"/>
  <con:entry key="first" value="a8Wuj"/>
</con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>first</con:entry><con:entry>last</con:entry><con:entry>tel</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="transfer contact" id="ef0e4729-7078-443f-850d-06be9630cda9" disabled="true"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>id</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>CreateContact</con:sourceStep><con:sourcePath>$.id</con:sourcePath><con:targetType xsi:nil="true"/><con:targetStep>ChangeContact</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>first</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>CreateContact</con:sourceStep><con:sourcePath>$.first</con:sourcePath><con:targetType xsi:nil="true"/><con:targetStep>ChangeContact</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>last</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>CreateContact</con:sourceStep><con:sourcePath>$.last</con:sourcePath><con:targetType xsi:nil="true"/><con:targetStep>ChangeContact</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="true" entitize="false" transferChildNodes="false"><con:name>tel</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>CreateContact</con:sourceStep><con:targetStep>ChangeContact</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="ChangeContact" id="c687d059-5dd1-4137-9ea0-b6bc0b1668ae"><con:settings/><con:config service="WEBAPI" resourcePath="/api/contacts/editcontact" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="ChangeContact" id="956aae74-5fef-499c-be6a-1d869de7b5ae" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://192.168.102.192:9000</con:endpoint><con:request>{
	"id": "${CreateContact#Response#$.id}",
	"first": "${#TestCase#randomString3}",
	"last": "${#TestCase#randomString4}",
	"tel": "${#TestCase#phone2}" 
	}</con:request><con:originalUri>http://192.168.102.192/api/contacts/editcontact</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="0dedf84e-1eb7-493b-92eb-61950d7acbc2" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="name" value="" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>id</con:entry><con:entry>first</con:entry><con:entry>last</con:entry><con:entry>tel</con:entry><con:entry>name</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="DeleteContact" id="bcb25421-1c1a-4d7b-9604-e80a739f9b78"><con:settings/><con:config service="WEBAPI" resourcePath="/api/contacts/deletecontact" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="DeleteContact" id="fcb7c8a8-cab6-4925-9b31-32a9a3cfba19" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://192.168.102.192:9000</con:endpoint><con:request>{ 
	"id": "${CreateContact#Response#$.id}"
}

</con:request><con:originalUri>http://192.168.102.192/api/contacts/deletecontact</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="04b92e4a-efd1-41bb-8e0f-d09abbaca0b7" name="Valid HTTP Status Codes"><con:settings/><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="cn=Eo7fU DP3PV,ou=Address Book,dc=ldap,dc=dgt,dc=com,dc=pl" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:setupScript>import java.util.Random
Random random = new Random()
 
def minPhone = 513311111
def maxPhone = 599999999

def min = 11111
def max = 99999

def randomValue1 = random.nextInt(max + 1 - min) + min;
def randomValue2 = random.nextInt(max + 1 - min) + min;
def randomValue3 = random.nextInt(max + 1 - min) + min;
def randomValue4 = random.nextInt(max + 1 - min) + min;

def phone1 = random.nextInt(maxPhone + 1 - minPhone) + minPhone;
def phone2 = random.nextInt(maxPhone + 1 - minPhone) + minPhone;



def props = testRunner.testCase

log.info('tworze zmienna ')

props.setPropertyValue("randomValue1", String.valueOf(randomValue1) )
props.setPropertyValue("randomValue2", String.valueOf(randomValue2) )
props.setPropertyValue("randomValue3", String.valueOf(randomValue3) )
props.setPropertyValue("randomValue4", String.valueOf(randomValue3) )

props.setPropertyValue("phone1", String.valueOf(phone1) )
props.setPropertyValue("phone2", String.valueOf(phone2) )

import org.apache.commons.lang.RandomStringUtils 
charset = (('a'..'z') + ('A'..'Z') + ('0'..'9')).join()

def randomString1 = RandomStringUtils.random(5, charset.toCharArray())
def randomString2 = RandomStringUtils.random(5, charset.toCharArray())
def randomString3 = RandomStringUtils.random(5, charset.toCharArray())
def randomString4 = RandomStringUtils.random(5, charset.toCharArray())


props.setPropertyValue("randomString1", String.valueOf(randomString1) )
props.setPropertyValue("randomString2", String.valueOf(randomString2) )
props.setPropertyValue("randomString3", String.valueOf(randomString3) )
props.setPropertyValue("randomString4", String.valueOf(randomString4) )</con:setupScript><con:properties><con:property><con:name>randomValue1</con:name><con:value>39655</con:value></con:property><con:property><con:name>randomValue2</con:name><con:value>61757</con:value></con:property><con:property><con:name>randomValue3</con:name><con:value>32559</con:value></con:property><con:property><con:name>randomValue4</con:name><con:value>32559</con:value></con:property><con:property><con:name>phone1</con:name><con:value>541754563</con:value></con:property><con:property><con:name>phone2</con:name><con:value>573881407</con:value></con:property><con:property><con:name>randomString1</con:name><con:value>XmWjj</con:value></con:property><con:property><con:name>randomString2</con:name><con:value>zddZB</con:value></con:property><con:property><con:name>randomString3</con:name><con:value>AbIgj</con:value></con:property><con:property><con:name>randomString4</con:name><con:value>mXAlM</con:value></con:property></con:properties><con:reportParameters/></con:testCase>